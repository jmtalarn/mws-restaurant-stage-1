var gulp=require("gulp"),imageResize=require("gulp-image-resize"),rename=require("gulp-rename"),browserSync=require("browser-sync").create(),eslint=require("gulp-eslint"),jasmine=require("gulp-jasmine-phantom"),debug=require("gulp-debug"),concat=require("gulp-concat"),sass=require("gulp-sass"),autoprefixer=require("gulp-autoprefixer"),uglifyes=require("uglify-es"),composer=require("gulp-uglify/composer"),uglify=composer(uglifyes,console),sourcemaps=require("gulp-sourcemaps");const imagemin=require("gulp-imagemin"),imageminPngquant=require("imagemin-pngquant");gulp.task("build",["generate-images","generate-app-icon","copy-html","styles","scripts"]),gulp.task("copy-html",function(){gulp.src(["**/*.html","**/*.json","!node_modules/**/*","!server/**/*","!dist/**/*"]).pipe(gulp.dest("dist"))}),gulp.task("watch:html",function(){gulp.watch(["**/*.html","**/*.json","!node_modules/**/*","!server/**/*","!dist/**/*"],["copy-html"])}),gulp.task("generate-app-icon",function(){gulp.src("img/icon/udacity-icon.png").pipe(imagemin({progressive:!0,use:[imageminPngquant()]})).pipe(gulp.dest("dist/img/icon")),gulp.src("img/icon/udacity-icon.png").pipe(imageResize({width:48})).pipe(imagemin({progressive:!0,use:[imageminPngquant()]})).pipe(rename(function(e){e.basename+="-1x"})).pipe(gulp.dest("dist/img/icon")),gulp.src("img/icon/udacity-icon.png").pipe(imageResize({width:96})).pipe(imagemin({progressive:!0,use:[imageminPngquant()]})).pipe(rename(function(e){e.basename+="-2x"})).pipe(gulp.dest("dist/img/icon")),gulp.src("img/icon/udacity-icon.png").pipe(imageResize({width:48})).pipe(imagemin({progressive:!0,use:[imageminPngquant()]})).pipe(rename(function(e){e.basename+="-4x"})).pipe(gulp.dest("dist/img/icon"))}),gulp.task("generate-images",function(){gulp.src(["img/**/*.{jpg,png}","!img/icon/**/*"]).pipe(imageResize({width:350})).pipe(imagemin({progressive:!0,use:[imageminPngquant()]})).pipe(rename(function(e){e.basename+="-small"})).pipe(gulp.dest("dist/img")),gulp.src(["img/**/*.{jpg,png}","!img/icon/**/*"]).pipe(imageResize({width:640})).pipe(imagemin({progressive:!0,use:[imageminPngquant()]})).pipe(rename(function(e){e.basename+="-medium"})).pipe(gulp.dest("dist/img")),gulp.src(["img/**/*.{jpg,png}","!img/icon/**/*"]).pipe(imagemin({progressive:!0,use:[imageminPngquant()]})).pipe(gulp.dest("dist/img")),gulp.src(["img/**/*.svg"]).pipe(gulp.dest("dist/img"))}),gulp.task("minify",function(){gulp.src(["**/*.js","!spec/**/*.js","!node_modules/**/*","!server/**/*","!dist/**/*"]).pipe(sourcemaps.init()).pipe(uglify().on("error",function(e){console.log(e)})).pipe(sourcemaps.write()).pipe(gulp.dest("dist"))}),gulp.task("lint",function(){return gulp.src(["**/*.js","!node_modules/**/*","!server/**/*","!dist/**/*"]).pipe(eslint()).pipe(eslint.format()).pipe(eslint.failOnError())}),gulp.task("scripts",["lint","minify"]),gulp.task("watch:js",function(){gulp.watch(["**/*.js","!node_modules/**/*","!server/**/*","!dist/**/*"],["scripts"])}),gulp.task("styles",function(){gulp.src("sass/**/main.scss").pipe(sass({outputStyle:"compressed"}).on("error",sass.logError)).pipe(autoprefixer({browsers:["last 2 versions","ie 8","ie 9"]})).pipe(gulp.dest("dist/css"))}),gulp.task("watch:css",function(){gulp.watch("sass/**/*.scss",["styles"])}),gulp.task("tests",function(){gulp.src(["spec/**/*.js"]).pipe(debug()).pipe(jasmine({verbose:!0,integration:!0,vendor:["js/**/*.js"]}))}),gulp.task("default",["build","watch:html","watch:css","watch:js"],function(){browserSync.init({server:{baseDir:"./dist"},serveStaticOptions:{extensions:["html","css","js"]},port:8e3}),gulp.watch(["dist/**/*"]).on("change",browserSync.reload)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1bHBmaWxlLmpzIl0sIm5hbWVzIjpbImd1bHAiLCJyZXF1aXJlIiwiaW1hZ2VSZXNpemUiLCJyZW5hbWUiLCJicm93c2VyU3luYyIsImNyZWF0ZSIsImVzbGludCIsImphc21pbmUiLCJkZWJ1ZyIsImNvbmNhdCIsInNhc3MiLCJhdXRvcHJlZml4ZXIiLCJ1Z2xpZnllcyIsImNvbXBvc2VyIiwidWdsaWZ5IiwiY29uc29sZSIsInNvdXJjZW1hcHMiLCJpbWFnZW1pbiIsImltYWdlbWluUG5ncXVhbnQiLCJ0YXNrIiwic3JjIiwicGlwZSIsImRlc3QiLCJ3YXRjaCIsInByb2dyZXNzaXZlIiwidXNlIiwid2lkdGgiLCJwYXRoIiwiYmFzZW5hbWUiLCJpbml0Iiwib24iLCJlIiwibG9nIiwid3JpdGUiLCJmb3JtYXQiLCJmYWlsT25FcnJvciIsIm91dHB1dFN0eWxlIiwibG9nRXJyb3IiLCJicm93c2VycyIsInZlcmJvc2UiLCJpbnRlZ3JhdGlvbiIsInZlbmRvciIsInNlcnZlciIsImJhc2VEaXIiLCJzZXJ2ZVN0YXRpY09wdGlvbnMiLCJleHRlbnNpb25zIiwicG9ydCIsInJlbG9hZCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsS0FBT0MsUUFBUSxRQUNmQyxZQUFjRCxRQUFRLHFCQUN0QkUsT0FBU0YsUUFBUSxlQUNqQkcsWUFBY0gsUUFBUSxnQkFBZ0JJLFNBQ3RDQyxPQUFTTCxRQUFRLGVBQ2pCTSxRQUFVTixRQUFRLHdCQUNsQk8sTUFBUVAsUUFBUSxjQUNoQlEsT0FBU1IsUUFBUSxlQUNqQlMsS0FBT1QsUUFBUSxhQUNmVSxhQUFlVixRQUFRLHFCQUN2QlcsU0FBV1gsUUFBUSxhQUNuQlksU0FBV1osUUFBUSx3QkFDbkJhLE9BQVNELFNBQVNELFNBQVVHLFNBQzVCQyxXQUFhZixRQUFRLG1CQUN6QixNQUFNZ0IsU0FBV2hCLFFBQVEsaUJBQ25CaUIsaUJBQW1CakIsUUFBUSxxQkFFakNELEtBQUttQixLQUFLLFNBQVUsa0JBQW1CLG9CQUFxQixZ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LEtBQUttQixLQUFLLFlBQWEsV0FDbkJuQixLQUFLdUIsTUFBTSxrQkFBbUIsYUFHbEN2QixLQUFLbUIsS0FBSyxRQUFTLFdBRWZuQixLQUFLb0IsS0FBSyxpQkFDTEMsS0FBS2IsU0FDTGEsS0FBS2QsU0FDRmdDLFNBQVMsRUFDVEMsYUFBYSxFQUNiQyxRQUFTLG1CQU1yQnpDLEtBQUttQixLQUFLLFdBQVksUUFBUyxhQUFjLFlBQWEsWUFBYSxXQUNuRWYsWUFBWXlCLE1BQ1JhLFFBQ0lDLFFBQVMsVUFFYkMsb0JBQ0lDLFlBQWEsT0FBUSxNQUFPLE9BRWhDQyxLQUFNLE1BRVY5QyxLQUFLdUIsT0FBTyxjQUNQTyxHQUFHLFNBQVUxQixZQUFZMkMiLCJmaWxlIjoiZ3VscGZpbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ3VscCA9IHJlcXVpcmUoJ2d1bHAnKTtcclxudmFyIGltYWdlUmVzaXplID0gcmVxdWlyZSgnZ3VscC1pbWFnZS1yZXNpemUnKTtcclxudmFyIHJlbmFtZSA9IHJlcXVpcmUoJ2d1bHAtcmVuYW1lJyk7XHJcbnZhciBicm93c2VyU3luYyA9IHJlcXVpcmUoJ2Jyb3dzZXItc3luYycpLmNyZWF0ZSgpO1xyXG52YXIgZXNsaW50ID0gcmVxdWlyZSgnZ3VscC1lc2xpbnQnKTtcclxudmFyIGphc21pbmUgPSByZXF1aXJlKCdndWxwLWphc21pbmUtcGhhbnRvbScpO1xyXG52YXIgZGVidWcgPSByZXF1aXJlKCdndWxwLWRlYnVnJyk7XHJcbnZhciBjb25jYXQgPSByZXF1aXJlKCdndWxwLWNvbmNhdCcpO1xyXG52YXIgc2FzcyA9IHJlcXVpcmUoJ2d1bHAtc2FzcycpO1xyXG52YXIgYXV0b3ByZWZpeGVyID0gcmVxdWlyZSgnZ3VscC1hdXRvcHJlZml4ZXInKTtcclxudmFyIHVnbGlmeWVzID0gcmVxdWlyZSgndWdsaWZ5LWVzJyk7XHJcbnZhciBjb21wb3NlciA9IHJlcXVpcmUoJ2d1bHAtdWdsaWZ5L2NvbXBvc2VyJyk7XHJcbnZhciB1Z2xpZnkgPSBjb21wb3Nlcih1Z2xpZnllcywgY29uc29sZSk7XHJcbnZhciBzb3VyY2VtYXBzID0gcmVxdWlyZSgnZ3VscC1zb3VyY2VtYXBzJyk7XHJcbmNvbnN0IGltYWdlbWluID0gcmVxdWlyZSgnZ3VscC1pbWFnZW1pbicpO1xyXG5jb25zdCBpbWFnZW1pblBuZ3F1YW50ID0gcmVxdWlyZSgnaW1hZ2VtaW4tcG5ncXVhbnQnKTtcclxuXHJcbmd1bHAudGFzaygnYnVpbGQnLCBbJ2dlbmVyYXRlLWltYWdlcycsICdnZW5lcmF0ZS1hcHAtaWNvbicsICdjb3B5LWh0bWwnLCAnc3R5bGVzJywgJ3NjcmlwdHMnXSk7XHJcblxyXG5ndWxwLnRhc2soJ2NvcHktaHRtbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIGd1bHAuc3JjKFsnKiovKi5odG1sJywgJyoqLyouanNvbicsICchbm9kZV9tb2R1bGVzLyoqLyonLCAnIXNlcnZlci8qKi8qJywgJyFkaXN0LyoqLyonXSlcclxuICAgICAgICAucGlwZShndWxwLmRlc3QoJ2Rpc3QnKSk7XHJcbn0pO1xyXG5ndWxwLnRhc2soJ3dhdGNoOmh0bWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBndWxwLndhdGNoKFtcclxuICAgICAgICAnKiovKi5odG1sJyxcclxuICAgICAgICAnKiovKi5qc29uJyxcclxuICAgICAgICAnIW5vZGVfbW9kdWxlcy8qKi8qJywgJyFzZXJ2ZXIvKiovKicsICchZGlzdC8qKi8qJ1xyXG4gICAgXSwgWydjb3B5LWh0bWwnXSk7XHJcbn0pO1xyXG5ndWxwLnRhc2soJ2dlbmVyYXRlLWFwcC1pY29uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgZ3VscC5zcmMoJ2ltZy9pY29uL3VkYWNpdHktaWNvbi5wbmcnKVxyXG4gICAgICAgIC5waXBlKGltYWdlbWluKHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NpdmU6IHRydWUsXHJcbiAgICAgICAgICAgIHVzZTogW2ltYWdlbWluUG5ncXVhbnQoKV1cclxuICAgICAgICB9KSlcclxuICAgICAgICAucGlwZShndWxwLmRlc3QoJ2Rpc3QvaW1nL2ljb24nKSk7XHJcbiAgICBndWxwLnNyYygnaW1nL2ljb24vdWRhY2l0eS1pY29uLnBuZycpXHJcbiAgICAgICAgLnBpcGUoaW1hZ2VSZXNpemUoe1xyXG4gICAgICAgICAgICB3aWR0aDogNDhcclxuICAgICAgICB9KSlcclxuICAgICAgICAucGlwZShpbWFnZW1pbih7XHJcbiAgICAgICAgICAgIHByb2dyZXNzaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICB1c2U6IFtpbWFnZW1pblBuZ3F1YW50KCldXHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLnBpcGUocmVuYW1lKGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICAgICAgICAgIHBhdGguYmFzZW5hbWUgKz0gJy0xeCc7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLnBpcGUoZ3VscC5kZXN0KCdkaXN0L2ltZy9pY29uJykpO1xyXG4gICAgZ3VscC5zcmMoJ2ltZy9pY29uL3VkYWNpdHktaWNvbi5wbmcnKVxyXG4gICAgICAgIC5waXBlKGltYWdlUmVzaXplKHtcclxuICAgICAgICAgICAgd2lkdGg6IDk2XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLnBpcGUoaW1hZ2VtaW4oe1xyXG4gICAgICAgICAgICBwcm9ncmVzc2l2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgdXNlOiBbaW1hZ2VtaW5QbmdxdWFudCgpXVxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKHJlbmFtZShmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgICAgICBwYXRoLmJhc2VuYW1lICs9ICctMngnO1xyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnZGlzdC9pbWcvaWNvbicpKTtcclxuICAgIGd1bHAuc3JjKCdpbWcvaWNvbi91ZGFjaXR5LWljb24ucG5nJylcclxuICAgICAgICAucGlwZShpbWFnZVJlc2l6ZSh7XHJcbiAgICAgICAgICAgIHdpZHRoOiA0OFxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKGltYWdlbWluKHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NpdmU6IHRydWUsXHJcbiAgICAgICAgICAgIHVzZTogW2ltYWdlbWluUG5ncXVhbnQoKV1cclxuICAgICAgICB9KSlcclxuICAgICAgICAucGlwZShyZW5hbWUoZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAgICAgcGF0aC5iYXNlbmFtZSArPSAnLTR4JztcclxuICAgICAgICB9KSlcclxuICAgICAgICAucGlwZShndWxwLmRlc3QoJ2Rpc3QvaW1nL2ljb24nKSk7XHJcbn0pO1xyXG5ndWxwLnRhc2soJ2dlbmVyYXRlLWltYWdlcycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGd1bHAuc3JjKFsnaW1nLyoqLyoue2pwZyxwbmd9JywgJyFpbWcvaWNvbi8qKi8qJ10pXHJcbiAgICAgICAgLnBpcGUoaW1hZ2VSZXNpemUoe1xyXG4gICAgICAgICAgICB3aWR0aDogMzUwXHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLnBpcGUoaW1hZ2VtaW4oe1xyXG4gICAgICAgICAgICBwcm9ncmVzc2l2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgdXNlOiBbaW1hZ2VtaW5QbmdxdWFudCgpXVxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKHJlbmFtZShmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgICAgICBwYXRoLmJhc2VuYW1lICs9ICctc21hbGwnO1xyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnZGlzdC9pbWcnKSk7XHJcbiAgICBndWxwLnNyYyhbJ2ltZy8qKi8qLntqcGcscG5nfScsICchaW1nL2ljb24vKiovKiddKVxyXG4gICAgICAgIC5waXBlKGltYWdlUmVzaXplKHtcclxuICAgICAgICAgICAgd2lkdGg6IDY0MFxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKGltYWdlbWluKHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NpdmU6IHRydWUsXHJcbiAgICAgICAgICAgIHVzZTogW2ltYWdlbWluUG5ncXVhbnQoKV1cclxuICAgICAgICB9KSlcclxuICAgICAgICAucGlwZShyZW5hbWUoZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAgICAgcGF0aC5iYXNlbmFtZSArPSAnLW1lZGl1bSc7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLnBpcGUoZ3VscC5kZXN0KCdkaXN0L2ltZycpKTtcclxuICAgIGd1bHAuc3JjKFsnaW1nLyoqLyoue2pwZyxwbmd9JywgJyFpbWcvaWNvbi8qKi8qJ10pXHJcbiAgICAgICAgLnBpcGUoaW1hZ2VtaW4oe1xyXG4gICAgICAgICAgICBwcm9ncmVzc2l2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgdXNlOiBbaW1hZ2VtaW5QbmdxdWFudCgpXVxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnZGlzdC9pbWcnKSk7XHJcbiAgICBndWxwLnNyYyhbJ2ltZy8qKi8qLnN2ZyddKVxyXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnZGlzdC9pbWcnKSk7XHJcbn0pO1xyXG5ndWxwLnRhc2soJ21pbmlmeScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGd1bHAuc3JjKFsnKiovKi5qcycsICchc3BlYy8qKi8qLmpzJywgJyFub2RlX21vZHVsZXMvKiovKicsICchc2VydmVyLyoqLyonLCAnIWRpc3QvKiovKiddKVxyXG4gICAgICAgIC5waXBlKHNvdXJjZW1hcHMuaW5pdCgpKVxyXG4gICAgICAgIC8vLnBpcGUoY29uY2F0KCdtYWluLmpzJykpXHJcbiAgICAgICAgLnBpcGUodWdsaWZ5KCkub24oJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLnBpcGUoc291cmNlbWFwcy53cml0ZSgpKVxyXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnZGlzdCcpKTtcclxufSk7XHJcbmd1bHAudGFzaygnbGludCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBndWxwLnNyYyhbJyoqLyouanMnLCAnIW5vZGVfbW9kdWxlcy8qKi8qJywgJyFzZXJ2ZXIvKiovKicsICchZGlzdC8qKi8qJ10pXHJcbiAgICAgICAgLnBpcGUoZXNsaW50KCkpXHJcbiAgICAgICAgLnBpcGUoZXNsaW50LmZvcm1hdCgpKVxyXG4gICAgICAgIC5waXBlKGVzbGludC5mYWlsT25FcnJvcigpKTtcclxufSk7XHJcbmd1bHAudGFzaygnc2NyaXB0cycsIFsnbGludCcsICdtaW5pZnknXSk7XHJcbmd1bHAudGFzaygnd2F0Y2g6anMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBndWxwLndhdGNoKFtcclxuICAgICAgICAnKiovKi5qcycsXHJcbiAgICAgICAgJyFub2RlX21vZHVsZXMvKiovKicsICchc2VydmVyLyoqLyonLCAnIWRpc3QvKiovKidcclxuICAgIF0sIFsnc2NyaXB0cyddKTtcclxufSk7XHJcblxyXG5ndWxwLnRhc2soJ3N0eWxlcycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGd1bHAuc3JjKCdzYXNzLyoqL21haW4uc2NzcycpXHJcbiAgICAgICAgLnBpcGUoc2Fzcyh7XHJcbiAgICAgICAgICAgICdvdXRwdXRTdHlsZSc6ICdjb21wcmVzc2VkJ1xyXG4gICAgICAgIH0pLm9uKCdlcnJvcicsIHNhc3MubG9nRXJyb3IpKVxyXG4gICAgICAgIC5waXBlKGF1dG9wcmVmaXhlcih7XHJcbiAgICAgICAgICAgIGJyb3dzZXJzOiBbJ2xhc3QgMiB2ZXJzaW9ucycsICdpZSA4JywgJ2llIDknXVxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnZGlzdC9jc3MnKSk7XHJcbn0pO1xyXG5ndWxwLnRhc2soJ3dhdGNoOmNzcycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGd1bHAud2F0Y2goJ3Nhc3MvKiovKi5zY3NzJywgWydzdHlsZXMnXSk7XHJcbn0pO1xyXG5cclxuZ3VscC50YXNrKCd0ZXN0cycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBndWxwLnNyYyhbJ3NwZWMvKiovKi5qcyddKVxyXG4gICAgICAgIC5waXBlKGRlYnVnKCkpXHJcbiAgICAgICAgLnBpcGUoamFzbWluZSh7XHJcbiAgICAgICAgICAgIHZlcmJvc2U6IHRydWUsXHJcbiAgICAgICAgICAgIGludGVncmF0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICB2ZW5kb3I6IFsnanMvKiovKi5qcyddXHJcbiAgICAgICAgfSkpO1xyXG5cclxufSk7XHJcblxyXG4vLyBTdGF0aWMgc2VydmVyXHJcbmd1bHAudGFzaygnZGVmYXVsdCcsIFsnYnVpbGQnLCAnd2F0Y2g6aHRtbCcsICd3YXRjaDpjc3MnLCAnd2F0Y2g6anMnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgYnJvd3NlclN5bmMuaW5pdCh7XHJcbiAgICAgICAgc2VydmVyOiB7XHJcbiAgICAgICAgICAgIGJhc2VEaXI6ICcuL2Rpc3QnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXJ2ZVN0YXRpY09wdGlvbnM6IHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWydodG1sJywgJ2NzcycsICdqcyddXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3J0OiA4MDAwXHJcbiAgICB9KTtcclxuICAgIGd1bHAud2F0Y2goWydkaXN0LyoqLyonXSlcclxuICAgICAgICAub24oJ2NoYW5nZScsIGJyb3dzZXJTeW5jLnJlbG9hZCk7XHJcbn0pOyJdfQ==
