{"version":3,"sources":["js/cached.js"],"names":["CACHE_NAME","caches","open","then","cache","console","log","list","document","getElementById","keys","filter","request","test","url","forEach","match","response","text","responseText","title","window","DOMParser","parseFromString","li","createElement","link","href","innerHTML","appendChild"],"mappings":"AAAA,MAAMA,WAAa,uBAEnBC,OAAOC,KAAKF,YAAYG,KAAK,SAASC,GAClCC,QAAQC,IAAIF,GACZ,MAAMG,EAAOC,SAASC,eAAe,eACrCL,EAAMM,OACDP,KAAKO,GAAMA,EACPC,OAAOC,GAAS,sBAAsBC,KAAKD,EAAQE,MACnDC,QAAQH,IACLR,EAAMY,MAAMJ,GACPT,KAAKc,GAAUA,EAASC,QACxBf,KAAKgB,IAEF,MAAMC,GADe,IAAKC,OAAOC,WAAaC,gBAAgBJ,EAAc,aAC/CC,MAEvBI,EAAKhB,SAASiB,cAAc,MAC5BC,EAAOlB,SAASiB,cAAc,KACpCC,EAAKC,KAAOf,EAAQE,IACpBY,EAAKE,aAAeR,KAASR,EAAQE,MACrCU,EAAGK,YAAYH,GACfnB,EAAKsB,YAAYL","file":"../../js/cached.js","sourcesContent":["const CACHE_NAME = 'mws-restaurant-cache';\r\n\r\ncaches.open(CACHE_NAME).then(function(cache) {\r\n    console.log(cache);\r\n    const list = document.getElementById('cached-list');\r\n    cache.keys()\r\n        .then(keys=>keys\r\n            .filter(request=>/\\.html\\?(id=\\d*)$/gm.test(request.url) )\r\n            .forEach(request=>{\r\n                cache.match(request)\r\n                    .then(response=>response.text())\r\n                    .then(responseText=>{\r\n                        var parsedResponse = (new window.DOMParser()).parseFromString(responseText, 'text/html');\r\n                        const title = parsedResponse.title;\r\n                        \r\n                        const li = document.createElement('LI');\r\n                        const link = document.createElement('A');\r\n                        link.href = request.url;\r\n                        link.innerHTML = `${title} ${request.url}`;\r\n                        li.appendChild(link);\r\n                        list.appendChild(li);\r\n                    });  \r\n            }));\r\n});"]}